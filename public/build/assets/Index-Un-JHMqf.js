import{r as s,j as e,a as jt,u as It,b as ie}from"./app-DlnQcGdx.js";import{d as Ae,u as Tt,e as Pe,R as Pt,f as Rt,g as Ie,h as Et,i as G,V as _t,j as Dt,k as P,P as Mt,l as At,m as Ot,n as kt,o as Lt,F as Bt,p as Vt,C as Ht,q as Ft,r as Ut,A as Wt,D as $t,a as Kt,b as zt,c as we}from"./AppLayout-SBWBl7En.js";import{c as Oe,a as $,u as B,P as A,b as Gt,B as ae}from"./index-DrEH4kL7.js";import{L as Re}from"./label-DPxZsJyG.js";import{u as Yt,D as qt,b as Xt,N as Zt,C as Ee,M as _e,P as Qt,a as Jt,E as eo,c as to}from"./react-masonry-css.module-DRqtKjHz.js";import{r as ke}from"./index-czVXvhc8.js";import{D as oo,a as no,b as so,c as ro,e as ao}from"./dialog-CVjSJwXa.js";import{P as lo}from"./plus-XnTCjJ7F.js";import"./bot-Neh3vo81.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Le=Oe("chevron-down",co);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uo=Oe("chevron-up",io),Be=s.forwardRef(({className:o,...n},t)=>e.jsx("textarea",{className:$("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),ref:t,...n}));Be.displayName="Textarea";function De(o,[n,t]){return Math.min(t,Math.max(n,o))}function po(o){const n=s.useRef({value:o,previous:o});return s.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}var fo=[" ","Enter","ArrowUp","ArrowDown"],mo=[" ","Enter"],ee="Select",[ue,pe,ho]=Et(ee),[ne,en]=Rt(ee,[ho,Ae]),fe=Ae(),[xo,Y]=ne(ee),[go,vo]=ne(ee),Ve=o=>{const{__scopeSelect:n,children:t,open:l,defaultOpen:c,onOpenChange:d,value:r,defaultValue:a,onValueChange:i,dir:p,name:v,autoComplete:w,disabled:I,required:b,form:y}=o,u=fe(n),[m,S]=s.useState(null),[f,g]=s.useState(null),[k,_]=s.useState(!1),X=Tt(p),[R,D]=Pe({prop:l,defaultProp:c??!1,onChange:d,caller:ee}),[x,Z]=Pe({prop:r,defaultProp:a,onChange:i,caller:ee}),V=s.useRef(null),H=m?y||!!m.closest("form"):!0,[K,F]=s.useState(new Set),U=Array.from(K).map(E=>E.props.value).join(";");return e.jsx(Pt,{...u,children:e.jsxs(xo,{required:b,scope:n,trigger:m,onTriggerChange:S,valueNode:f,onValueNodeChange:g,valueNodeHasChildren:k,onValueNodeHasChildrenChange:_,contentId:Ie(),value:x,onValueChange:Z,open:R,onOpenChange:D,dir:X,triggerPointerDownPosRef:V,disabled:I,children:[e.jsx(ue.Provider,{scope:n,children:e.jsx(go,{scope:o.__scopeSelect,onNativeOptionAdd:s.useCallback(E=>{F(L=>new Set(L).add(E))},[]),onNativeOptionRemove:s.useCallback(E=>{F(L=>{const W=new Set(L);return W.delete(E),W})},[]),children:t})}),H?e.jsxs(it,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:w,value:x,onChange:E=>Z(E.target.value),disabled:I,form:y,children:[x===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},U):null]})})};Ve.displayName=ee;var He="SelectTrigger",Fe=s.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:l=!1,...c}=o,d=fe(t),r=Y(He,t),a=r.disabled||l,i=B(n,r.onTriggerChange),p=pe(t),v=s.useRef("touch"),[w,I,b]=ut(u=>{const m=p().filter(g=>!g.disabled),S=m.find(g=>g.value===r.value),f=pt(m,u,S);f!==void 0&&r.onValueChange(f.value)}),y=u=>{a||(r.onOpenChange(!0),b()),u&&(r.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Dt,{asChild:!0,...d,children:e.jsx(A.button,{type:"button",role:"combobox","aria-controls":r.contentId,"aria-expanded":r.open,"aria-required":r.required,"aria-autocomplete":"none",dir:r.dir,"data-state":r.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dt(r.value)?"":void 0,...c,ref:i,onClick:P(c.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&y(u)}),onPointerDown:P(c.onPointerDown,u=>{v.current=u.pointerType;const m=u.target;m.hasPointerCapture(u.pointerId)&&m.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(y(u),u.preventDefault())}),onKeyDown:P(c.onKeyDown,u=>{const m=w.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&I(u.key),!(m&&u.key===" ")&&fo.includes(u.key)&&(y(),u.preventDefault())})})})});Fe.displayName=He;var Ue="SelectValue",We=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:l,style:c,children:d,placeholder:r="",...a}=o,i=Y(Ue,t),{onValueNodeHasChildrenChange:p}=i,v=d!==void 0,w=B(n,i.onValueNodeChange);return G(()=>{p(v)},[p,v]),e.jsx(A.span,{...a,ref:w,style:{pointerEvents:"none"},children:dt(i.value)?e.jsx(e.Fragment,{children:r}):d})});We.displayName=Ue;var So="SelectIcon",$e=s.forwardRef((o,n)=>{const{__scopeSelect:t,children:l,...c}=o;return e.jsx(A.span,{"aria-hidden":!0,...c,ref:n,children:l||"â–¼"})});$e.displayName=So;var wo="SelectPortal",Ke=o=>e.jsx(Mt,{asChild:!0,...o});Ke.displayName=wo;var te="SelectContent",ze=s.forwardRef((o,n)=>{const t=Y(te,o.__scopeSelect),[l,c]=s.useState();if(G(()=>{c(new DocumentFragment)},[]),!t.open){const d=l;return d?ke.createPortal(e.jsx(Ge,{scope:o.__scopeSelect,children:e.jsx(ue.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),d):null}return e.jsx(Ye,{...o,ref:n})});ze.displayName=te;var O=10,[Ge,q]=ne(te),yo="SelectContentImpl",Co=Gt("SelectContent.RemoveScroll"),Ye=s.forwardRef((o,n)=>{const{__scopeSelect:t,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:r,side:a,sideOffset:i,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:I,collisionPadding:b,sticky:y,hideWhenDetached:u,avoidCollisions:m,...S}=o,f=Y(te,t),[g,k]=s.useState(null),[_,X]=s.useState(null),R=B(n,h=>k(h)),[D,x]=s.useState(null),[Z,V]=s.useState(null),H=pe(t),[K,F]=s.useState(!1),U=s.useRef(!1);s.useEffect(()=>{if(g)return Ot(g)},[g]),kt();const E=s.useCallback(h=>{const[j,...M]=H().map(T=>T.ref.current),[C]=M.slice(-1),N=document.activeElement;for(const T of h)if(T===N||(T?.scrollIntoView({block:"nearest"}),T===j&&_&&(_.scrollTop=0),T===C&&_&&(_.scrollTop=_.scrollHeight),T?.focus(),document.activeElement!==N))return},[H,_]),L=s.useCallback(()=>E([D,g]),[E,D,g]);s.useEffect(()=>{K&&L()},[K,L]);const{onOpenChange:W,triggerPointerDownPosRef:z}=f;s.useEffect(()=>{if(g){let h={x:0,y:0};const j=C=>{h={x:Math.abs(Math.round(C.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(C.pageY)-(z.current?.y??0))}},M=C=>{h.x<=10&&h.y<=10?C.preventDefault():g.contains(C.target)||W(!1),document.removeEventListener("pointermove",j),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",j),document.addEventListener("pointerup",M,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",M,{capture:!0})}}},[g,W,z]),s.useEffect(()=>{const h=()=>W(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[W]);const[me,le]=ut(h=>{const j=H().filter(N=>!N.disabled),M=j.find(N=>N.ref.current===document.activeElement),C=pt(j,h,M);C&&setTimeout(()=>C.ref.current.focus())}),he=s.useCallback((h,j,M)=>{const C=!U.current&&!M;(f.value!==void 0&&f.value===j||C)&&(x(h),C&&(U.current=!0))},[f.value]),xe=s.useCallback(()=>g?.focus(),[g]),oe=s.useCallback((h,j,M)=>{const C=!U.current&&!M;(f.value!==void 0&&f.value===j||C)&&V(h)},[f.value]),ce=l==="popper"?ye:qe,se=ce===ye?{side:a,sideOffset:i,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:I,collisionPadding:b,sticky:y,hideWhenDetached:u,avoidCollisions:m}:{};return e.jsx(Ge,{scope:t,content:g,viewport:_,onViewportChange:X,itemRefCallback:he,selectedItem:D,onItemLeave:xe,itemTextRefCallback:oe,focusSelectedItem:L,selectedItemText:Z,position:l,isPositioned:K,searchRef:me,children:e.jsx(Lt,{as:Co,allowPinchZoom:!0,children:e.jsx(Bt,{asChild:!0,trapped:f.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:P(c,h=>{f.trigger?.focus({preventScroll:!0}),h.preventDefault()}),children:e.jsx(Vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:r,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:h=>h.preventDefault(),...S,...se,onPlaced:()=>F(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:P(S.onKeyDown,h=>{const j=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!j&&h.key.length===1&&le(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let C=H().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(h.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const N=h.target,T=C.indexOf(N);C=C.slice(T+1)}setTimeout(()=>E(C)),h.preventDefault()}})})})})})})});Ye.displayName=yo;var No="SelectItemAlignedPosition",qe=s.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:l,...c}=o,d=Y(te,t),r=q(te,t),[a,i]=s.useState(null),[p,v]=s.useState(null),w=B(n,R=>v(R)),I=pe(t),b=s.useRef(!1),y=s.useRef(!0),{viewport:u,selectedItem:m,selectedItemText:S,focusSelectedItem:f}=r,g=s.useCallback(()=>{if(d.trigger&&d.valueNode&&a&&p&&u&&m&&S){const R=d.trigger.getBoundingClientRect(),D=p.getBoundingClientRect(),x=d.valueNode.getBoundingClientRect(),Z=S.getBoundingClientRect();if(d.dir!=="rtl"){const N=Z.left-D.left,T=x.left-N,Q=R.left-T,J=R.width+Q,ge=Math.max(J,D.width),ve=window.innerWidth-O,Se=De(T,[O,Math.max(O,ve-ge)]);a.style.minWidth=J+"px",a.style.left=Se+"px"}else{const N=D.right-Z.right,T=window.innerWidth-x.right-N,Q=window.innerWidth-R.right-T,J=R.width+Q,ge=Math.max(J,D.width),ve=window.innerWidth-O,Se=De(T,[O,Math.max(O,ve-ge)]);a.style.minWidth=J+"px",a.style.right=Se+"px"}const V=I(),H=window.innerHeight-O*2,K=u.scrollHeight,F=window.getComputedStyle(p),U=parseInt(F.borderTopWidth,10),E=parseInt(F.paddingTop,10),L=parseInt(F.borderBottomWidth,10),W=parseInt(F.paddingBottom,10),z=U+E+K+W+L,me=Math.min(m.offsetHeight*5,z),le=window.getComputedStyle(u),he=parseInt(le.paddingTop,10),xe=parseInt(le.paddingBottom,10),oe=R.top+R.height/2-O,ce=H-oe,se=m.offsetHeight/2,h=m.offsetTop+se,j=U+E+h,M=z-j;if(j<=oe){const N=V.length>0&&m===V[V.length-1].ref.current;a.style.bottom="0px";const T=p.clientHeight-u.offsetTop-u.offsetHeight,Q=Math.max(ce,se+(N?xe:0)+T+L),J=j+Q;a.style.height=J+"px"}else{const N=V.length>0&&m===V[0].ref.current;a.style.top="0px";const Q=Math.max(oe,U+u.offsetTop+(N?he:0)+se)+M;a.style.height=Q+"px",u.scrollTop=j-oe+u.offsetTop}a.style.margin=`${O}px 0`,a.style.minHeight=me+"px",a.style.maxHeight=H+"px",l?.(),requestAnimationFrame(()=>b.current=!0)}},[I,d.trigger,d.valueNode,a,p,u,m,S,d.dir,l]);G(()=>g(),[g]);const[k,_]=s.useState();G(()=>{p&&_(window.getComputedStyle(p).zIndex)},[p]);const X=s.useCallback(R=>{R&&y.current===!0&&(g(),f?.(),y.current=!1)},[g,f]);return e.jsx(jo,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:b,onScrollButtonChange:X,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(A.div,{...c,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});qe.displayName=No;var bo="SelectPopperPosition",ye=s.forwardRef((o,n)=>{const{__scopeSelect:t,align:l="start",collisionPadding:c=O,...d}=o,r=fe(t);return e.jsx(Ht,{...r,...d,ref:n,align:l,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ye.displayName=bo;var[jo,Te]=ne(te,{}),Ce="SelectViewport",Xe=s.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:l,...c}=o,d=q(Ce,t),r=Te(Ce,t),a=B(n,d.onViewportChange),i=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(ue.Slot,{scope:t,children:e.jsx(A.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:P(c.onScroll,p=>{const v=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:I}=r;if(I?.current&&w){const b=Math.abs(i.current-v.scrollTop);if(b>0){const y=window.innerHeight-O*2,u=parseFloat(w.style.minHeight),m=parseFloat(w.style.height),S=Math.max(u,m);if(S<y){const f=S+b,g=Math.min(y,f),k=f-g;w.style.height=g+"px",w.style.bottom==="0px"&&(v.scrollTop=k>0?k:0,w.style.justifyContent="flex-end")}}}i.current=v.scrollTop})})})]})});Xe.displayName=Ce;var Ze="SelectGroup",[Io,To]=ne(Ze),Po=s.forwardRef((o,n)=>{const{__scopeSelect:t,...l}=o,c=Ie();return e.jsx(Io,{scope:t,id:c,children:e.jsx(A.div,{role:"group","aria-labelledby":c,...l,ref:n})})});Po.displayName=Ze;var Qe="SelectLabel",Je=s.forwardRef((o,n)=>{const{__scopeSelect:t,...l}=o,c=To(Qe,t);return e.jsx(A.div,{id:c.id,...l,ref:n})});Je.displayName=Qe;var de="SelectItem",[Ro,et]=ne(de),tt=s.forwardRef((o,n)=>{const{__scopeSelect:t,value:l,disabled:c=!1,textValue:d,...r}=o,a=Y(de,t),i=q(de,t),p=a.value===l,[v,w]=s.useState(d??""),[I,b]=s.useState(!1),y=B(n,f=>i.itemRefCallback?.(f,l,c)),u=Ie(),m=s.useRef("touch"),S=()=>{c||(a.onValueChange(l),a.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ro,{scope:t,value:l,disabled:c,textId:u,isSelected:p,onItemTextChange:s.useCallback(f=>{w(g=>g||(f?.textContent??"").trim())},[]),children:e.jsx(ue.ItemSlot,{scope:t,value:l,disabled:c,textValue:v,children:e.jsx(A.div,{role:"option","aria-labelledby":u,"data-highlighted":I?"":void 0,"aria-selected":p&&I,"data-state":p?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...r,ref:y,onFocus:P(r.onFocus,()=>b(!0)),onBlur:P(r.onBlur,()=>b(!1)),onClick:P(r.onClick,()=>{m.current!=="mouse"&&S()}),onPointerUp:P(r.onPointerUp,()=>{m.current==="mouse"&&S()}),onPointerDown:P(r.onPointerDown,f=>{m.current=f.pointerType}),onPointerMove:P(r.onPointerMove,f=>{m.current=f.pointerType,c?i.onItemLeave?.():m.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(r.onPointerLeave,f=>{f.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:P(r.onKeyDown,f=>{i.searchRef?.current!==""&&f.key===" "||(mo.includes(f.key)&&S(),f.key===" "&&f.preventDefault())})})})})});tt.displayName=de;var re="SelectItemText",ot=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:l,style:c,...d}=o,r=Y(re,t),a=q(re,t),i=et(re,t),p=vo(re,t),[v,w]=s.useState(null),I=B(n,S=>w(S),i.onItemTextChange,S=>a.itemTextRefCallback?.(S,i.value,i.disabled)),b=v?.textContent,y=s.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:b},i.value),[i.disabled,i.value,b]),{onNativeOptionAdd:u,onNativeOptionRemove:m}=p;return G(()=>(u(y),()=>m(y)),[u,m,y]),e.jsxs(e.Fragment,{children:[e.jsx(A.span,{id:i.textId,...d,ref:I}),i.isSelected&&r.valueNode&&!r.valueNodeHasChildren?ke.createPortal(d.children,r.valueNode):null]})});ot.displayName=re;var nt="SelectItemIndicator",st=s.forwardRef((o,n)=>{const{__scopeSelect:t,...l}=o;return et(nt,t).isSelected?e.jsx(A.span,{"aria-hidden":!0,...l,ref:n}):null});st.displayName=nt;var Ne="SelectScrollUpButton",rt=s.forwardRef((o,n)=>{const t=q(Ne,o.__scopeSelect),l=Te(Ne,o.__scopeSelect),[c,d]=s.useState(!1),r=B(n,l.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let a=function(){const p=i.scrollTop>0;d(p)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...o,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop-i.offsetHeight)}}):null});rt.displayName=Ne;var be="SelectScrollDownButton",at=s.forwardRef((o,n)=>{const t=q(be,o.__scopeSelect),l=Te(be,o.__scopeSelect),[c,d]=s.useState(!1),r=B(n,l.onScrollButtonChange);return G(()=>{if(t.viewport&&t.isPositioned){let a=function(){const p=i.scrollHeight-i.clientHeight,v=Math.ceil(i.scrollTop)<p;d(v)};const i=t.viewport;return a(),i.addEventListener("scroll",a),()=>i.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(lt,{...o,ref:r,onAutoScroll:()=>{const{viewport:a,selectedItem:i}=t;a&&i&&(a.scrollTop=a.scrollTop+i.offsetHeight)}}):null});at.displayName=be;var lt=s.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:l,...c}=o,d=q("SelectScrollButton",t),r=s.useRef(null),a=pe(t),i=s.useCallback(()=>{r.current!==null&&(window.clearInterval(r.current),r.current=null)},[]);return s.useEffect(()=>()=>i(),[i]),G(()=>{a().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),e.jsx(A.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:P(c.onPointerDown,()=>{r.current===null&&(r.current=window.setInterval(l,50))}),onPointerMove:P(c.onPointerMove,()=>{d.onItemLeave?.(),r.current===null&&(r.current=window.setInterval(l,50))}),onPointerLeave:P(c.onPointerLeave,()=>{i()})})}),Eo="SelectSeparator",ct=s.forwardRef((o,n)=>{const{__scopeSelect:t,...l}=o;return e.jsx(A.div,{"aria-hidden":!0,...l,ref:n})});ct.displayName=Eo;var je="SelectArrow",_o=s.forwardRef((o,n)=>{const{__scopeSelect:t,...l}=o,c=fe(t),d=Y(je,t),r=q(je,t);return d.open&&r.position==="popper"?e.jsx(Ft,{...c,...l,ref:n}):null});_o.displayName=je;var Do="SelectBubbleInput",it=s.forwardRef(({__scopeSelect:o,value:n,...t},l)=>{const c=s.useRef(null),d=B(l,c),r=po(n);return s.useEffect(()=>{const a=c.current;if(!a)return;const i=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(i,"value").set;if(r!==n&&v){const w=new Event("change",{bubbles:!0});v.call(a,n),a.dispatchEvent(w)}},[r,n]),e.jsx(A.select,{...t,style:{..._t,...t.style},ref:d,defaultValue:n})});it.displayName=Do;function dt(o){return o===""||o===void 0}function ut(o){const n=At(o),t=s.useRef(""),l=s.useRef(0),c=s.useCallback(r=>{const a=t.current+r;n(a),(function i(p){t.current=p,window.clearTimeout(l.current),p!==""&&(l.current=window.setTimeout(()=>i(""),1e3))})(a)},[n]),d=s.useCallback(()=>{t.current="",window.clearTimeout(l.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(l.current),[]),[t,c,d]}function pt(o,n,t){const c=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,d=t?o.indexOf(t):-1;let r=Mo(o,Math.max(d,0));c.length===1&&(r=r.filter(p=>p!==t));const i=r.find(p=>p.textValue.toLowerCase().startsWith(c.toLowerCase()));return i!==t?i:void 0}function Mo(o,n){return o.map((t,l)=>o[(n+l)%o.length])}var Ao=Ve,ft=Fe,Oo=We,ko=$e,Lo=Ke,mt=ze,Bo=Xe,ht=Je,xt=tt,Vo=ot,Ho=st,gt=rt,vt=at,St=ct;const Fo=Ao,Uo=Oo,wt=s.forwardRef(({className:o,children:n,...t},l)=>e.jsxs(ft,{ref:l,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[n,e.jsx(ko,{asChild:!0,children:e.jsx(Le,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=ft.displayName;const yt=s.forwardRef(({className:o,...n},t)=>e.jsx(gt,{ref:t,className:$("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(uo,{className:"h-4 w-4"})}));yt.displayName=gt.displayName;const Ct=s.forwardRef(({className:o,...n},t)=>e.jsx(vt,{ref:t,className:$("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(Le,{className:"h-4 w-4"})}));Ct.displayName=vt.displayName;const Nt=s.forwardRef(({className:o,children:n,position:t="popper",...l},c)=>e.jsx(Lo,{children:e.jsxs(mt,{ref:c,className:$("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...l,children:[e.jsx(yt,{}),e.jsx(Bo,{className:$("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Ct,{})]})}));Nt.displayName=mt.displayName;const Wo=s.forwardRef(({className:o,...n},t)=>e.jsx(ht,{ref:t,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...n}));Wo.displayName=ht.displayName;const bt=s.forwardRef(({className:o,children:n,...t},l)=>e.jsxs(xt,{ref:l,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ho,{children:e.jsx(Ut,{className:"h-4 w-4"})})}),e.jsx(Vo,{children:n})]}));bt.displayName=xt.displayName;const $o=s.forwardRef(({className:o,...n},t)=>e.jsx(St,{ref:t,className:$("-mx-1 my-1 h-px bg-muted",o),...n}));$o.displayName=St.displayName;function Me({form:o,categories:n,editingNote:t,onSubmit:l,className:c}){const d=s.useRef(null);return e.jsxs("form",{onSubmit:l,className:c,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Re,{htmlFor:"content",children:"Note"}),e.jsx(Be,{id:"content",rows:0,ref:d,value:o.data.content,onChange:r=>o.setData("content",r.target.value),onInput:r=>{const a=r.currentTarget;a.style.height="auto",a.style.height=a.scrollHeight+"px"},className:"min-h-44 text-sm md:min-h-64 md:text-base",placeholder:"Write your note..."})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(Re,{htmlFor:"category",children:"Category"}),e.jsxs(Fo,{id:"category",value:o.data.category_id?.toString(),onValueChange:r=>o.setData("category_id",r),children:[e.jsx(wt,{children:e.jsx(Uo,{placeholder:"Select category"})}),e.jsx(Nt,{children:n.map(r=>e.jsx(bt,{value:r.id.toString(),children:r.name},r.id))})]})]}),e.jsxs("div",{className:"flex gap-3 pb-5 pt-1 md:pb-0",children:[e.jsx(ae,{type:"submit",disabled:o.processing,className:"w-full",children:t?"Save Changes":"Add Note"}),e.jsx(to,{asChild:!0,children:e.jsx(ae,{className:"w-full",variant:"outline",children:"Cancel"})})]})]})}function tn(){const{notes:o,categories:n,activeCategory:t,search:l}=jt().props,[c,d]=s.useState(!1),[r,a]=s.useState(null),[i,p]=s.useState(null),[v,w]=s.useState(!1),I=Yt("(min-width: 768px)"),b=o.filter(x=>x.pinned),y=o.filter(x=>!x.pinned),u={default:4,768:3,640:1},m=It({content:"",category_id:n.length?n[0].id:""});s.useEffect(()=>{r?(m.setData("content",r.content),m.setData("category_id",r.category_id.toString())):m.reset()},[r]);const S=x=>{x.preventDefault(),r?ie.put(`/notes/${r.id}`,m.data,{onSuccess:()=>a(null)}):m.post("/notes",{onSuccess:()=>m.reset("content")}),d(!1)},f=x=>{confirm("Delete this note?")&&ie.delete(`/notes/${x.id}`)},g=x=>{a(x),d(!0)},k=()=>{a(null),d(!0)},_=()=>l?t?`Search results in ${t}`:"Search results":t?`Notes in ${t}`:"All Notes",X=()=>l?`Found ${o.length} note${o.length!==1?"s":""} matching "${l}"`:t?`Only showing notes in the "${t}" category`:"Create, edit, archive, or delete your Notes in this page",R=x=>{p(x),w(!0)},D=x=>e.jsxs(Ee,{className:"group p-4 md:p-5",children:[e.jsx("div",{className:"cursor-pointer whitespace-pre-wrap text-sm text-gray-700 dark:text-white md:text-base",onClick:()=>R(x),children:x.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-300",children:x.category?.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{variant:"outline",size:"icon",className:"size-8 opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>ie.put(`/notes/${x.id}/pin`),children:x.pinned?e.jsx(Qt,{className:"size-4"}):e.jsx(Jt,{className:"size-4"})}),e.jsxs($t,{children:[e.jsx(Kt,{asChild:!0,children:e.jsx(ae,{variant:"outline",size:"icon",className:"size-8 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(eo,{})})}),e.jsxs(zt,{children:[e.jsx(we,{children:e.jsx("button",{onClick:()=>g(x),children:"Edit Note"})}),e.jsx(we,{children:e.jsx("button",{onClick:()=>ie.put(`/notes/${x.id}/archive`),children:"Archive"})}),e.jsx(we,{children:e.jsx("button",{className:"text-red-600",onClick:()=>f(x),children:"Delete Note"})})]})]})]})]})]},x.id);return e.jsxs(Wt,{BreadcrumbLink1:"Notes",BreadcrumbLink2:t?`Notes in ${t}`:"All Notes",children:[e.jsxs("div",{className:"mb-7 flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold leading-tight lg:text-2xl",children:_()}),e.jsx("p",{className:"pt-1 text-sm text-gray-500 dark:text-gray-300 lg:pt-0 lg:text-base",children:X()})]}),e.jsx("div",{children:e.jsxs(ae,{className:"gap-1",onClick:k,children:[e.jsx(lo,{className:"px-0"}),"Add ",e.jsx("span",{className:"hidden md:block",children:"Note"})]})})]}),I?e.jsx(oo,{open:c,onOpenChange:d,children:e.jsxs(no,{className:"max-w-2xl",onOpenAutoFocus:x=>x.preventDefault(),children:[e.jsxs(so,{children:[e.jsx(ro,{children:r?"Edit Note":"Add Note"}),e.jsx(ao,{children:r?"Edit the note or the category attached to it":"Add new note and the category to which it belongs"})]}),e.jsx(Me,{form:m,categories:n,editingNote:r,onSubmit:S,className:"space-y-2"})]})}):e.jsx(qt,{open:c,onOpenChange:d,children:e.jsx(Xt,{children:e.jsx(Me,{form:m,categories:n,editingNote:r,onSubmit:S,className:"space-y-2 px-4"})})}),e.jsx(Zt,{note:i,open:v,onOpenChange:w,onEdit:g}),o.length===0?e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(Ee,{className:"flex h-72 w-full items-center justify-center p-6 text-center text-lg text-gray-600 dark:text-gray-300",children:"Notes you add appear here"})}):e.jsxs("div",{className:"mt-4 space-y-8",children:[b.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Pinned Notes"}),e.jsx(_e,{breakpointCols:u,className:"flex gap-4",columnClassName:"masonry-column flex flex-col gap-3 md:gap-4",children:b.map(D)})]}),y.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Notes"}),e.jsx(_e,{breakpointCols:u,className:"flex gap-4",columnClassName:"masonry-column flex flex-col gap-3 md:gap-4",children:y.map(D)})]})]})]})}export{tn as default};
