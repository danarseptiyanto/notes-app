import{a as y,R as c,j as e,b as i}from"./app-BGMI7Gvw.js";import{A as b,D as C,a as k,b as v,c as r}from"./AppLayout-BIq01vsm.js";import{N as w,C as d,M as D,P as $,a as M,E as z}from"./react-masonry-css.module-CszYXPjO.js";import{B as m}from"./index-B70PE2-T.js";import"./index-DBmtxiNH.js";import"./ThemeToggle-Cx3M0lh9.js";import"./dialog-BeiI7hfA.js";function R(){const{category:n,notes:a,search:s}=y().props,[x,p]=c.useState(null),[h,o]=c.useState(!1),u={default:4,768:3,640:1},g=t=>{confirm("Delete this note?")&&i.delete(`/notes/${t.id}`)},l=t=>{i.get("/",{edit:t.id})},j=t=>{p(t),o(!0)},N=()=>s?`Search results in ${n.name}`:`Notes in ${n.name}`,f=()=>s?`Found ${a.length} note${a.length!==1?"s":""} matching "${s}"`:`Only showing notes in the "${n.name}" category`;return e.jsxs(b,{BreadcrumbLink1:"Notes",BreadcrumbLink2:`Notes in ${n.name}`,children:[e.jsx("div",{className:"mb-7 flex items-center justify-between gap-2",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold leading-tight lg:text-2xl",children:N()}),e.jsx("p",{className:"pt-1 text-sm text-gray-500 dark:text-gray-300 lg:pt-0 lg:text-base",children:f()})]})}),e.jsx(w,{note:x,open:h,onOpenChange:o,onEdit:l}),a.length===0?e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(d,{className:"flex h-72 w-full items-center justify-center p-6 text-center text-lg text-gray-600 dark:text-gray-300",children:s?`No notes found matching "${s}"`:"No notes in this category"})}):e.jsx(D,{breakpointCols:u,className:"mt-4 flex gap-4",columnClassName:"masonry-column flex flex-col gap-3 md:gap-4",children:a.map(t=>e.jsxs(d,{className:"group p-4 md:p-5",children:[e.jsx("div",{className:"cursor-pointer whitespace-pre-wrap text-sm text-gray-700 dark:text-white md:text-base",onClick:()=>j(t),children:t.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-300",children:t.category?.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{variant:"outline",size:"icon",className:"size-8 opacity-0 transition-opacity group-hover:opacity-100",onClick:()=>i.put(`/notes/${t.id}/pin`),children:t.pinned?e.jsx($,{className:"size-4"}):e.jsx(M,{className:"size-4"})}),e.jsxs(C,{children:[e.jsx(k,{asChild:!0,children:e.jsx(m,{variant:"outline",size:"icon",className:"size-8 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(z,{})})}),e.jsxs(v,{children:[e.jsx(r,{children:e.jsx("button",{onClick:()=>l(t),children:"Edit Note"})}),e.jsx(r,{children:e.jsx("button",{onClick:()=>i.put(`/notes/${t.id}/archive`),children:"Archive"})}),e.jsx(r,{children:e.jsx("button",{className:"text-red-600",onClick:()=>g(t),children:"Delete Note"})})]})]})]})]})]},t.id))})]})}export{R as default};
