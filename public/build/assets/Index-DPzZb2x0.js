import{r as a,j as n,R as ce,a as Rt,u as Et,b as Ce}from"./app-BnEZLToQ.js";import{c as Be,u as _t,a as Ae,R as Dt,b as Ot,d as _e,e as At,f as q,V as kt,g as Mt,h as T,P as Lt,i as Bt,j as Vt,k as Ht,l as Ft,F as Wt,D as Ut,C as $t,m as Kt,n as zt,A as qt,o as Gt,p as Yt,q as Xt,r as Se}from"./AppLayout-CmOhg_TZ.js";import{c as De,a as P,u as L,P as D,b as Zt,B as be}from"./index-BUUjkQpu.js";import{L as ke}from"./label-FNGqqSqS.js";import{r as Ve}from"./index-16NzggXe.js";import{P as Jt,D as Qt,a as eo,b as to,c as oo,e as no,d as ro}from"./dialog-D533gXJP.js";import"./bot-DThJJL9f.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],He=De("chevron-down",so);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lo=De("chevron-up",ao);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],co=De("ellipsis",io),Fe=a.forwardRef(({className:o,...t},e)=>n.jsx("textarea",{className:P("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),ref:e,...t}));Fe.displayName="Textarea";function uo(o,t){if(o==null)return{};var e=po(o,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(o,r)&&(e[r]=o[r])}return e}function po(o,t){if(o==null)return{};var e={},r=Object.keys(o),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(e[s]=o[s]);return e}function de(){return de=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}return o},de.apply(this,arguments)}function Me(o,t){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),e.push.apply(e,r)}return e}function se(o){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Me(Object(e),!0).forEach(function(r){fo(o,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):Me(Object(e)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(e,r))})}return o}function fo(o,t,e){return t in o?Object.defineProperty(o,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[t]=e,o}const mo={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},Ne=2;class We extends ce.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let e;this.props.breakpointCols&&this.props.breakpointCols.default?e=this.props.breakpointCols.default:e=parseInt(this.props.breakpointCols)||Ne,this.state={columnCount:e}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let e=this.props.breakpointCols;typeof e!="object"&&(e={default:parseInt(e)||Ne});let r=1/0,s=e.default||Ne;for(let i in e){const l=parseInt(i);l>0&&t<=l&&l<r&&(r=l,s=e[i])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const t=this.state.columnCount,e=new Array(t),r=ce.Children.toArray(this.props.children);for(let s=0;s<r.length;s++){const i=s%t;e[i]||(e[i]=[]),e[i].push(r[s])}return e}renderColumns(){const{column:t,columnAttrs:e={},columnClassName:r}=this.props,s=this.itemsInColumns(),i=`${100/s.length}%`;let l=r;l&&typeof l!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof l>"u"&&(l="my-masonry-grid_column"));const c=se(se(se({},t),e),{},{style:se(se({},e.style),{},{width:i}),className:l});return s.map((d,u)=>ce.createElement("div",de({},c,{key:u}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:e,breakpointCols:r,columnClassName:s,columnAttrs:i,column:l,className:c}=t,d=uo(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(u="my-masonry-grid")),ce.createElement("div",de({},d,{className:u}),this.renderColumns())}}We.defaultProps=mo;function Le(o,[t,e]){return Math.min(e,Math.max(t,o))}function ho(o){const t=a.useRef({value:o,previous:o});return a.useMemo(()=>(t.current.value!==o&&(t.current.previous=t.current.value,t.current.value=o),t.current.previous),[o])}var go=[" ","Enter","ArrowUp","ArrowDown"],xo=[" ","Enter"],Q="Select",[pe,fe,vo]=At(Q),[oe,an]=Ot(Q,[vo,Be]),me=Be(),[yo,G]=oe(Q),[wo,Co]=oe(Q),Ue=o=>{const{__scopeSelect:t,children:e,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:u,name:x,autoComplete:y,disabled:j,required:b,form:f}=o,p=me(t),[g,w]=a.useState(null),[h,v]=a.useState(null),[U,O]=a.useState(!1),ne=_t(u),[R,k]=Ae({prop:r,defaultProp:s??!1,onChange:i,caller:Q}),[$,X]=Ae({prop:l,defaultProp:c,onChange:d,caller:Q}),B=a.useRef(null),V=g?f||!!g.closest("form"):!0,[K,H]=a.useState(new Set),F=Array.from(K).map(E=>E.props.value).join(";");return n.jsx(Dt,{...p,children:n.jsxs(yo,{required:b,scope:t,trigger:g,onTriggerChange:w,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:U,onValueNodeHasChildrenChange:O,contentId:_e(),value:$,onValueChange:X,open:R,onOpenChange:k,dir:ne,triggerPointerDownPosRef:B,disabled:j,children:[n.jsx(pe.Provider,{scope:t,children:n.jsx(wo,{scope:o.__scopeSelect,onNativeOptionAdd:a.useCallback(E=>{H(M=>new Set(M).add(E))},[]),onNativeOptionRemove:a.useCallback(E=>{H(M=>{const W=new Set(M);return W.delete(E),W})},[]),children:e})}),V?n.jsxs(ft,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:y,value:$,onChange:E=>X(E.target.value),disabled:j,form:f,children:[$===void 0?n.jsx("option",{value:""}):null,Array.from(K)]},F):null]})})};Ue.displayName=Q;var $e="SelectTrigger",Ke=a.forwardRef((o,t)=>{const{__scopeSelect:e,disabled:r=!1,...s}=o,i=me(e),l=G($e,e),c=l.disabled||r,d=L(t,l.onTriggerChange),u=fe(e),x=a.useRef("touch"),[y,j,b]=ht(p=>{const g=u().filter(v=>!v.disabled),w=g.find(v=>v.value===l.value),h=gt(g,p,w);h!==void 0&&l.onValueChange(h.value)}),f=p=>{c||(l.onOpenChange(!0),b()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Mt,{asChild:!0,...i,children:n.jsx(D.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":mt(l.value)?"":void 0,...s,ref:d,onClick:T(s.onClick,p=>{p.currentTarget.focus(),x.current!=="mouse"&&f(p)}),onPointerDown:T(s.onPointerDown,p=>{x.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(f(p),p.preventDefault())}),onKeyDown:T(s.onKeyDown,p=>{const g=y.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&j(p.key),!(g&&p.key===" ")&&go.includes(p.key)&&(f(),p.preventDefault())})})})});Ke.displayName=$e;var ze="SelectValue",qe=a.forwardRef((o,t)=>{const{__scopeSelect:e,className:r,style:s,children:i,placeholder:l="",...c}=o,d=G(ze,e),{onValueNodeHasChildrenChange:u}=d,x=i!==void 0,y=L(t,d.onValueNodeChange);return q(()=>{u(x)},[u,x]),n.jsx(D.span,{...c,ref:y,style:{pointerEvents:"none"},children:mt(d.value)?n.jsx(n.Fragment,{children:l}):i})});qe.displayName=ze;var So="SelectIcon",Ge=a.forwardRef((o,t)=>{const{__scopeSelect:e,children:r,...s}=o;return n.jsx(D.span,{"aria-hidden":!0,...s,ref:t,children:r||"â–¼"})});Ge.displayName=So;var bo="SelectPortal",Ye=o=>n.jsx(Lt,{asChild:!0,...o});Ye.displayName=bo;var ee="SelectContent",Xe=a.forwardRef((o,t)=>{const e=G(ee,o.__scopeSelect),[r,s]=a.useState();if(q(()=>{s(new DocumentFragment)},[]),!e.open){const i=r;return i?Ve.createPortal(n.jsx(Ze,{scope:o.__scopeSelect,children:n.jsx(pe.Slot,{scope:o.__scopeSelect,children:n.jsx("div",{children:o.children})})}),i):null}return n.jsx(Je,{...o,ref:t})});Xe.displayName=ee;var A=10,[Ze,Y]=oe(ee),No="SelectContentImpl",jo=Zt("SelectContent.RemoveScroll"),Je=a.forwardRef((o,t)=>{const{__scopeSelect:e,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:u,alignOffset:x,arrowPadding:y,collisionBoundary:j,collisionPadding:b,sticky:f,hideWhenDetached:p,avoidCollisions:g,...w}=o,h=G(ee,e),[v,U]=a.useState(null),[O,ne]=a.useState(null),R=L(t,m=>U(m)),[k,$]=a.useState(null),[X,B]=a.useState(null),V=fe(e),[K,H]=a.useState(!1),F=a.useRef(!1);a.useEffect(()=>{if(v)return Vt(v)},[v]),Ht();const E=a.useCallback(m=>{const[N,..._]=V().map(I=>I.ref.current),[C]=_.slice(-1),S=document.activeElement;for(const I of m)if(I===S||(I?.scrollIntoView({block:"nearest"}),I===N&&O&&(O.scrollTop=0),I===C&&O&&(O.scrollTop=O.scrollHeight),I?.focus(),document.activeElement!==S))return},[V,O]),M=a.useCallback(()=>E([k,v]),[E,k,v]);a.useEffect(()=>{K&&M()},[K,M]);const{onOpenChange:W,triggerPointerDownPosRef:z}=h;a.useEffect(()=>{if(v){let m={x:0,y:0};const N=C=>{m={x:Math.abs(Math.round(C.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(C.pageY)-(z.current?.y??0))}},_=C=>{m.x<=10&&m.y<=10?C.preventDefault():v.contains(C.target)||W(!1),document.removeEventListener("pointermove",N),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",N),document.addEventListener("pointerup",_,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",_,{capture:!0})}}},[v,W,z]),a.useEffect(()=>{const m=()=>W(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[W]);const[he,le]=ht(m=>{const N=V().filter(S=>!S.disabled),_=N.find(S=>S.ref.current===document.activeElement),C=gt(N,m,_);C&&setTimeout(()=>C.ref.current.focus())}),ge=a.useCallback((m,N,_)=>{const C=!F.current&&!_;(h.value!==void 0&&h.value===N||C)&&($(m),C&&(F.current=!0))},[h.value]),xe=a.useCallback(()=>v?.focus(),[v]),te=a.useCallback((m,N,_)=>{const C=!F.current&&!_;(h.value!==void 0&&h.value===N||C)&&B(m)},[h.value]),ie=r==="popper"?je:Qe,re=ie===je?{side:c,sideOffset:d,align:u,alignOffset:x,arrowPadding:y,collisionBoundary:j,collisionPadding:b,sticky:f,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(Ze,{scope:e,content:v,viewport:O,onViewportChange:ne,itemRefCallback:ge,selectedItem:k,onItemLeave:xe,itemTextRefCallback:te,focusSelectedItem:M,selectedItemText:X,position:r,isPositioned:K,searchRef:he,children:n.jsx(Ft,{as:jo,allowPinchZoom:!0,children:n.jsx(Wt,{asChild:!0,trapped:h.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:T(s,m=>{h.trigger?.focus({preventScroll:!0}),m.preventDefault()}),children:n.jsx(Ut,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:n.jsx(ie,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:m=>m.preventDefault(),...w,...re,onPlaced:()=>H(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:T(w.onKeyDown,m=>{const N=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!N&&m.key.length===1&&le(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let C=V().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(m.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const S=m.target,I=C.indexOf(S);C=C.slice(I+1)}setTimeout(()=>E(C)),m.preventDefault()}})})})})})})});Je.displayName=No;var Io="SelectItemAlignedPosition",Qe=a.forwardRef((o,t)=>{const{__scopeSelect:e,onPlaced:r,...s}=o,i=G(ee,e),l=Y(ee,e),[c,d]=a.useState(null),[u,x]=a.useState(null),y=L(t,R=>x(R)),j=fe(e),b=a.useRef(!1),f=a.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:w,focusSelectedItem:h}=l,v=a.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&g&&w){const R=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),X=w.getBoundingClientRect();if(i.dir!=="rtl"){const S=X.left-k.left,I=$.left-S,Z=R.left-I,J=R.width+Z,ve=Math.max(J,k.width),ye=window.innerWidth-A,we=Le(I,[A,Math.max(A,ye-ve)]);c.style.minWidth=J+"px",c.style.left=we+"px"}else{const S=k.right-X.right,I=window.innerWidth-$.right-S,Z=window.innerWidth-R.right-I,J=R.width+Z,ve=Math.max(J,k.width),ye=window.innerWidth-A,we=Le(I,[A,Math.max(A,ye-ve)]);c.style.minWidth=J+"px",c.style.right=we+"px"}const B=j(),V=window.innerHeight-A*2,K=p.scrollHeight,H=window.getComputedStyle(u),F=parseInt(H.borderTopWidth,10),E=parseInt(H.paddingTop,10),M=parseInt(H.borderBottomWidth,10),W=parseInt(H.paddingBottom,10),z=F+E+K+W+M,he=Math.min(g.offsetHeight*5,z),le=window.getComputedStyle(p),ge=parseInt(le.paddingTop,10),xe=parseInt(le.paddingBottom,10),te=R.top+R.height/2-A,ie=V-te,re=g.offsetHeight/2,m=g.offsetTop+re,N=F+E+m,_=z-N;if(N<=te){const S=B.length>0&&g===B[B.length-1].ref.current;c.style.bottom="0px";const I=u.clientHeight-p.offsetTop-p.offsetHeight,Z=Math.max(ie,re+(S?xe:0)+I+M),J=N+Z;c.style.height=J+"px"}else{const S=B.length>0&&g===B[0].ref.current;c.style.top="0px";const Z=Math.max(te,F+p.offsetTop+(S?ge:0)+re)+_;c.style.height=Z+"px",p.scrollTop=N-te+p.offsetTop}c.style.margin=`${A}px 0`,c.style.minHeight=he+"px",c.style.maxHeight=V+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[j,i.trigger,i.valueNode,c,u,p,g,w,i.dir,r]);q(()=>v(),[v]);const[U,O]=a.useState();q(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const ne=a.useCallback(R=>{R&&f.current===!0&&(v(),h?.(),f.current=!1)},[v,h]);return n.jsx(Po,{scope:e,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:ne,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:n.jsx(D.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Qe.displayName=Io;var To="SelectPopperPosition",je=a.forwardRef((o,t)=>{const{__scopeSelect:e,align:r="start",collisionPadding:s=A,...i}=o,l=me(e);return n.jsx($t,{...l,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});je.displayName=To;var[Po,Oe]=oe(ee,{}),Ie="SelectViewport",et=a.forwardRef((o,t)=>{const{__scopeSelect:e,nonce:r,...s}=o,i=Y(Ie,e),l=Oe(Ie,e),c=L(t,i.onViewportChange),d=a.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(pe.Slot,{scope:e,children:n.jsx(D.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:T(s.onScroll,u=>{const x=u.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:j}=l;if(j?.current&&y){const b=Math.abs(d.current-x.scrollTop);if(b>0){const f=window.innerHeight-A*2,p=parseFloat(y.style.minHeight),g=parseFloat(y.style.height),w=Math.max(p,g);if(w<f){const h=w+b,v=Math.min(f,h),U=h-v;y.style.height=v+"px",y.style.bottom==="0px"&&(x.scrollTop=U>0?U:0,y.style.justifyContent="flex-end")}}}d.current=x.scrollTop})})})]})});et.displayName=Ie;var tt="SelectGroup",[Ro,Eo]=oe(tt),_o=a.forwardRef((o,t)=>{const{__scopeSelect:e,...r}=o,s=_e();return n.jsx(Ro,{scope:e,id:s,children:n.jsx(D.div,{role:"group","aria-labelledby":s,...r,ref:t})})});_o.displayName=tt;var ot="SelectLabel",nt=a.forwardRef((o,t)=>{const{__scopeSelect:e,...r}=o,s=Eo(ot,e);return n.jsx(D.div,{id:s.id,...r,ref:t})});nt.displayName=ot;var ue="SelectItem",[Do,rt]=oe(ue),st=a.forwardRef((o,t)=>{const{__scopeSelect:e,value:r,disabled:s=!1,textValue:i,...l}=o,c=G(ue,e),d=Y(ue,e),u=c.value===r,[x,y]=a.useState(i??""),[j,b]=a.useState(!1),f=L(t,h=>d.itemRefCallback?.(h,r,s)),p=_e(),g=a.useRef("touch"),w=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Do,{scope:e,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:a.useCallback(h=>{y(v=>v||(h?.textContent??"").trim())},[]),children:n.jsx(pe.ItemSlot,{scope:e,value:r,disabled:s,textValue:x,children:n.jsx(D.div,{role:"option","aria-labelledby":p,"data-highlighted":j?"":void 0,"aria-selected":u&&j,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:f,onFocus:T(l.onFocus,()=>b(!0)),onBlur:T(l.onBlur,()=>b(!1)),onClick:T(l.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:T(l.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:T(l.onPointerDown,h=>{g.current=h.pointerType}),onPointerMove:T(l.onPointerMove,h=>{g.current=h.pointerType,s?d.onItemLeave?.():g.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(l.onPointerLeave,h=>{h.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:T(l.onKeyDown,h=>{d.searchRef?.current!==""&&h.key===" "||(xo.includes(h.key)&&w(),h.key===" "&&h.preventDefault())})})})})});st.displayName=ue;var ae="SelectItemText",at=a.forwardRef((o,t)=>{const{__scopeSelect:e,className:r,style:s,...i}=o,l=G(ae,e),c=Y(ae,e),d=rt(ae,e),u=Co(ae,e),[x,y]=a.useState(null),j=L(t,w=>y(w),d.onItemTextChange,w=>c.itemTextRefCallback?.(w,d.value,d.disabled)),b=x?.textContent,f=a.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return q(()=>(p(f),()=>g(f)),[p,g,f]),n.jsxs(n.Fragment,{children:[n.jsx(D.span,{id:d.textId,...i,ref:j}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ve.createPortal(i.children,l.valueNode):null]})});at.displayName=ae;var lt="SelectItemIndicator",it=a.forwardRef((o,t)=>{const{__scopeSelect:e,...r}=o;return rt(lt,e).isSelected?n.jsx(D.span,{"aria-hidden":!0,...r,ref:t}):null});it.displayName=lt;var Te="SelectScrollUpButton",ct=a.forwardRef((o,t)=>{const e=Y(Te,o.__scopeSelect),r=Oe(Te,o.__scopeSelect),[s,i]=a.useState(!1),l=L(t,r.onScrollButtonChange);return q(()=>{if(e.viewport&&e.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=e.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?n.jsx(ut,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=e;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});ct.displayName=Te;var Pe="SelectScrollDownButton",dt=a.forwardRef((o,t)=>{const e=Y(Pe,o.__scopeSelect),r=Oe(Pe,o.__scopeSelect),[s,i]=a.useState(!1),l=L(t,r.onScrollButtonChange);return q(()=>{if(e.viewport&&e.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,x=Math.ceil(d.scrollTop)<u;i(x)};const d=e.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[e.viewport,e.isPositioned]),s?n.jsx(ut,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=e;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});dt.displayName=Pe;var ut=a.forwardRef((o,t)=>{const{__scopeSelect:e,onAutoScroll:r,...s}=o,i=Y("SelectScrollButton",e),l=a.useRef(null),c=fe(e),d=a.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return a.useEffect(()=>()=>d(),[d]),q(()=>{c().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),n.jsx(D.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:T(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:T(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:T(s.onPointerLeave,()=>{d()})})}),Oo="SelectSeparator",pt=a.forwardRef((o,t)=>{const{__scopeSelect:e,...r}=o;return n.jsx(D.div,{"aria-hidden":!0,...r,ref:t})});pt.displayName=Oo;var Re="SelectArrow",Ao=a.forwardRef((o,t)=>{const{__scopeSelect:e,...r}=o,s=me(e),i=G(Re,e),l=Y(Re,e);return i.open&&l.position==="popper"?n.jsx(Kt,{...s,...r,ref:t}):null});Ao.displayName=Re;var ko="SelectBubbleInput",ft=a.forwardRef(({__scopeSelect:o,value:t,...e},r)=>{const s=a.useRef(null),i=L(r,s),l=ho(t);return a.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&x){const y=new Event("change",{bubbles:!0});x.call(c,t),c.dispatchEvent(y)}},[l,t]),n.jsx(D.select,{...e,style:{...kt,...e.style},ref:i,defaultValue:t})});ft.displayName=ko;function mt(o){return o===""||o===void 0}function ht(o){const t=Bt(o),e=a.useRef(""),r=a.useRef(0),s=a.useCallback(l=>{const c=e.current+l;t(c),(function d(u){e.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=a.useCallback(()=>{e.current="",window.clearTimeout(r.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(r.current),[]),[e,s,i]}function gt(o,t,e){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=e?o.indexOf(e):-1;let l=Mo(o,Math.max(i,0));s.length===1&&(l=l.filter(u=>u!==e));const d=l.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==e?d:void 0}function Mo(o,t){return o.map((e,r)=>o[(t+r)%o.length])}var Lo=Ue,xt=Ke,Bo=qe,Vo=Ge,Ho=Ye,vt=Xe,Fo=et,yt=nt,wt=st,Wo=at,Uo=it,Ct=ct,St=dt,bt=pt;const $o=Lo,Ko=Bo,Nt=a.forwardRef(({className:o,children:t,...e},r)=>n.jsxs(xt,{ref:r,className:P("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...e,children:[t,n.jsx(Vo,{asChild:!0,children:n.jsx(He,{className:"h-4 w-4 opacity-50"})})]}));Nt.displayName=xt.displayName;const jt=a.forwardRef(({className:o,...t},e)=>n.jsx(Ct,{ref:e,className:P("flex cursor-default items-center justify-center py-1",o),...t,children:n.jsx(lo,{className:"h-4 w-4"})}));jt.displayName=Ct.displayName;const It=a.forwardRef(({className:o,...t},e)=>n.jsx(St,{ref:e,className:P("flex cursor-default items-center justify-center py-1",o),...t,children:n.jsx(He,{className:"h-4 w-4"})}));It.displayName=St.displayName;const Tt=a.forwardRef(({className:o,children:t,position:e="popper",...r},s)=>n.jsx(Ho,{children:n.jsxs(vt,{ref:s,className:P("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:e,...r,children:[n.jsx(jt,{}),n.jsx(Fo,{className:P("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(It,{})]})}));Tt.displayName=vt.displayName;const zo=a.forwardRef(({className:o,...t},e)=>n.jsx(yt,{ref:e,className:P("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...t}));zo.displayName=yt.displayName;const Pt=a.forwardRef(({className:o,children:t,...e},r)=>n.jsxs(wt,{ref:r,className:P("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...e,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Uo,{children:n.jsx(zt,{className:"h-4 w-4"})})}),n.jsx(Wo,{children:t})]}));Pt.displayName=wt.displayName;const qo=a.forwardRef(({className:o,...t},e)=>n.jsx(bt,{ref:e,className:P("-mx-1 my-1 h-px bg-muted",o),...t}));qo.displayName=bt.displayName;const Ee=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("rounded-lg border bg-card text-card-foreground shadow-sm",o),...t}));Ee.displayName="Card";const Go=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("flex flex-col space-y-1.5 p-6",o),...t}));Go.displayName="CardHeader";const Yo=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("text-2xl font-semibold leading-none tracking-tight",o),...t}));Yo.displayName="CardTitle";const Xo=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("text-sm text-muted-foreground",o),...t}));Xo.displayName="CardDescription";const Zo=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("p-6 pt-0",o),...t}));Zo.displayName="CardContent";const Jo=a.forwardRef(({className:o,...t},e)=>n.jsx("div",{ref:e,className:P("flex items-center p-6 pt-0",o),...t}));Jo.displayName="CardFooter";function ln(){const{notes:o,categories:t,activeCategory:e}=Rt().props,[r,s]=a.useState(!1),[i,l]=a.useState(null),c=a.useRef(null),d={default:4,768:3,640:1},u=Et({content:"",category_id:t.length?t[0].id:""});a.useEffect(()=>{i?(u.setData("content",i.content),u.setData("category_id",i.category_id.toString())):u.reset()},[i]);const x=f=>{f.preventDefault(),i?Ce.put(`/notes/${i.id}`,u.data,{onSuccess:()=>l(null)}):u.post("/notes",{onSuccess:()=>u.reset("content")}),s(!1)},y=f=>{confirm("Delete this note?")&&Ce.delete(`/notes/${f.id}`)},j=f=>{l(f),s(!0)},b=()=>{l(null),s(!0)};return n.jsxs(qt,{BreadcrumbLink1:"Notes",BreadcrumbLink2:e?`Notes in ${e}`:"All Notes",children:[n.jsxs("div",{className:"mb-7 flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold leading-tight lg:text-2xl",children:e?`Notes in ${e}`:"All Notes"}),n.jsx("p",{className:"pt-1 text-sm text-gray-500 dark:text-gray-300 lg:pt-0 lg:text-base",children:e?`Only showing notes in the "${e}" category`:"Create, edit, archive, or delete your Notes in this page"})]}),n.jsx("div",{children:n.jsxs(be,{className:"gap-1",onClick:b,children:[n.jsx(Jt,{className:"px-0"}),"Add ",n.jsx("span",{className:"hidden md:block",children:"Note"})]})})]}),n.jsx(Qt,{open:r,onOpenChange:s,children:n.jsx(eo,{className:"max-w-md",onOpenAutoFocus:f=>f.preventDefault(),children:n.jsxs("form",{onSubmit:x,className:"space-y-2",children:[n.jsxs(to,{children:[n.jsx(oo,{children:i?"Edit Note":"Add Note"}),n.jsx(no,{children:i?"Edit the note or the category attached to it":"Add new note and the category to which it belongs"}),n.jsxs("div",{className:"mt-1 space-y-1",children:[n.jsx(ke,{htmlFor:"content",children:"Note"}),n.jsx(Fe,{id:"content",rows:0,ref:c,value:u.data.content,onChange:f=>u.setData("content",f.target.value),onInput:f=>{const p=f.currentTarget;p.style.height="auto",p.style.height=p.scrollHeight+"px"},className:"min-h-44",placeholder:"Write your note..."})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ke,{htmlFor:"category",children:"Category"}),n.jsxs($o,{id:"category",value:u.data.category_id?.toString(),onValueChange:f=>u.setData("category_id",f),children:[n.jsx(Nt,{children:n.jsx(Ko,{placeholder:"Select category"})}),n.jsx(Tt,{children:t.map(f=>n.jsx(Pt,{value:f.id.toString(),children:f.name},f.id))})]})]})]}),n.jsx(ro,{className:"pt-1",children:n.jsx(be,{type:"submit",disabled:u.processing,children:i?"Save Changes":"Add Note"})})]})})}),o.length===0?n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsx(Ee,{className:"flex h-72 w-full items-center justify-center p-6 text-center text-lg text-gray-600 dark:text-gray-300",children:"Notes you add appear here"})}):n.jsx(We,{breakpointCols:d,className:"mt-4 flex gap-4",columnClassName:"masonry-column flex flex-col gap-4",children:o.map(f=>n.jsxs(Ee,{className:"group p-5",children:[n.jsx("div",{className:"whitespace-pre-wrap text-gray-700 dark:text-white",children:f.content}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-300",children:f.category?.name}),n.jsxs(Gt,{children:[n.jsx(Yt,{asChild:!0,children:n.jsx(be,{variant:"outline",size:"icon",className:"size-8 opacity-0 transition-opacity group-hover:opacity-100",children:n.jsx(co,{})})}),n.jsxs(Xt,{children:[n.jsx(Se,{children:n.jsx("button",{onClick:()=>j(f),children:"Edit Note"})}),n.jsx(Se,{children:n.jsx("button",{onClick:()=>Ce.put(`/notes/${f.id}/archive`),children:"Archive"})}),n.jsx(Se,{children:n.jsx("button",{className:"text-red-600",onClick:()=>y(f),children:"Delete Note"})})]})]})]})]},f.id))})]})}export{ln as default};
